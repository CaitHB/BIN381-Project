---
title: "EDA_Access_To_Healthcare_National_01"
author: "Group K"
date: "`r Sys.Date()`"
output: pdf_document
---

```{r setup, echo=TRUE, warning=FALSE, message=FALSE}
library(readr)
library(ggplot2)
library(dplyr)
library(here)
library(tidyr)
library(knitr)
library(skimr)
library(tidyverse)
library(summarytools)

getwd()
list.files("data/raw_data")
```

# Load data and show the structure 
```{r}
acc_df <- read_csv(here("raw_data", "access-to-health-care_national_zaf.csv"))
```
#Dislay the first and last 10 rows
```{r}
head(acc_df, 50)

#tail(acc_df, 10)
```
#remove first row
```{r}
acc_df[-1,]
```

```{r}
acc_df <- acc_df %>%
  mutate(Value = as.numeric(Value))
```
#Dimenison of the data
```{r}
dim(acc_df)
```
#Provide a summary of the datset
```{r}
summary(acc_df)
```
#Find duplicated values 
```{r}
sum(duplicated(acc_df))
```
#Inspect columns for missing/empty data as values and pecentages respectively
```{r}
colSums(is.na(acc_df))
round(colMeans(is.na(acc_df)) * 100, 2)
```

# Check for unique values
```{r}
sapply(acc_df, function(x) length(unique(x)))

```

```{r}
acc_df <- acc_df %>%
  filter(Indicator == "Access To Health Care ratio") %>%
  mutate(SurveyYear = as.factor(SurveyYear))

```
#Plots
```{r}

```
#Summary Table
```{r}
summary_table <- acc_df %>%
  summarise(across(all_of(numeric_cols),
                   list(mean = ~mean(., na.rm = TRUE),
                        sd   = ~sd(., na.rm = TRUE),
                        min  = ~min(., na.rm = TRUE),
                        max  = ~max(., na.rm = TRUE)))) %>%
  pivot_longer(
    cols = everything(),
    names_to = c("Variable", "Statistic"),
    names_sep = "_",
    values_to = "Value"
  ) %>%
  arrange(Variable)
write_csv(summary_table, "../outputs/summary tables/summary_access-to-healthcare.csv")

```
```{r}
